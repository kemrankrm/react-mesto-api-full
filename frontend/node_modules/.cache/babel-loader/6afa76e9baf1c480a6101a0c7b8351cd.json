{"ast":null,"code":"export class Api {\n  constructor(configuration) {\n    this._config = configuration;\n    this._baseUrl = configuration.baseUrl;\n    this._headers = configuration.headers;\n  } //UPLOADING NEW AVATAR\n\n\n  upploadAvatar(data) {\n    console.log(data);\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  } //GETTING USER INFORMATION\n\n\n  getUserData() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  } // INITIAL CARDS SETUP\n\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  } //USER INFORMATION POSTING\n\n\n  postUserInfo(inputData) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: inputData.name,\n        about: inputData.about\n      })\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  postNewCard(inputData) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: inputData.name,\n        link: inputData.link\n      })\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  getLikeArr() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  putLike(cardId) {\n    // console.log(cardId);\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes `, {\n      method: \"PUT\",\n      headers: this._headers,\n      body: JSON.stringify({\n        _id: cardId\n      })\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка ${res.status}`);\n    }\n  }\n\n}","map":{"version":3,"names":["Api","constructor","configuration","_config","_baseUrl","baseUrl","_headers","headers","upploadAvatar","data","console","log","fetch","method","body","JSON","stringify","avatar","then","res","_checkResponse","getUserData","getInitialCards","postUserInfo","inputData","name","about","postNewCard","link","removeCard","cardId","getLikeArr","putLike","_id","removeLike","ok","json","Promise","reject","status"],"sources":["/Users/kemrankarimov/Desktop/mesto-react/src/utils/Api.js"],"sourcesContent":["export class Api {\n  constructor(configuration) {\n    this._config = configuration;\n    this._baseUrl = configuration.baseUrl;\n    this._headers = configuration.headers;\n  }\n\n  //UPLOADING NEW AVATAR\n  upploadAvatar(data) {\n    console.log(data);\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  //GETTING USER INFORMATION\n  getUserData() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  // INITIAL CARDS SETUP\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  //USER INFORMATION POSTING\n  postUserInfo(inputData) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: inputData.name,\n        about: inputData.about,\n      }),\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  postNewCard(inputData) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: inputData.name,\n        link: inputData.link,\n      }),\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  getLikeArr() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  putLike(cardId) {\n    // console.log(cardId);\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes `, {\n      method: \"PUT\",\n      headers: this._headers,\n      body: JSON.stringify({\n        _id: cardId,\n      }),\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка ${res.status}`);\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}