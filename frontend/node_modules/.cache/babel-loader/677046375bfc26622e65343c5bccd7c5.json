{"ast":null,"code":"export class Api {\n  constructor(configuration) {\n    this._config = configuration;\n    this._baseUrl = configuration.baseUrl;\n    this._headers = configuration.headers;\n  } //UPLOADING NEW AVATAR\n\n\n  upploadAvatar(data) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.link\n      })\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  } //GETTING USER INFORMATION\n\n\n  getUserData() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  } // INITIAL CARDS SETUP\n\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  } //USER INFORMATION POSTING\n\n\n  postUserInfo(inputData) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: inputData.name,\n        about: inputData.about\n      })\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  postNewCard(inputData) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: inputData.name,\n        link: inputData.link\n      })\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  getLikeArr() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  putLike(cardId) {\n    // console.log(cardId);\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes `, {\n      method: 'PUT',\n      headers: this._headers,\n      body: JSON.stringify({\n        _id: cardId\n      })\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка ${res.status}`);\n    }\n  }\n\n}","map":{"version":3,"names":["Api","constructor","configuration","_config","_baseUrl","baseUrl","_headers","headers","upploadAvatar","data","fetch","method","body","JSON","stringify","avatar","link","then","res","_checkResponse","getUserData","getInitialCards","postUserInfo","inputData","name","about","postNewCard","removeCard","cardId","getLikeArr","putLike","_id","removeLike","ok","json","Promise","reject","status"],"sources":["/Users/kemrankarimov/Desktop/mesto-react/src/utils/Api.js"],"sourcesContent":["export class Api {\n    constructor(configuration) {\n      this._config = configuration;\n      this._baseUrl = configuration.baseUrl;\n      this._headers = configuration.headers;\n    }\n\n    //UPLOADING NEW AVATAR\n    upploadAvatar(data){\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: data.link,\n            })\n        })\n            .then(res => {\n                return this._checkResponse(res)\n            })\n    }\n\n    //GETTING USER INFORMATION\n    getUserData(){\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: this._headers\n        })\n            .then(res => {\n                return this._checkResponse(res)\n            })\n\n    }\n  \n    // INITIAL CARDS SETUP\n    getInitialCards() {\n        return fetch(`${this._baseUrl}/cards`, {\n            headers: this._headers\n        })\n        .then(res => {\n            return this._checkResponse(res);\n        });   \n    }\n\n    //USER INFORMATION POSTING\n    postUserInfo(inputData){\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: inputData.name,\n                about: inputData.about,\n            })\n            })\n                .then(res => {\n                    return this._checkResponse(res)\n                })\n    }\n\n    postNewCard(inputData){\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: inputData.name,\n                link: inputData.link,\n            })\n        })\n            .then(res => {\n                return this._checkResponse(res)\n            })\n    }\n\n    removeCard(cardId){\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n            .then(res => {\n                return this._checkResponse(res)\n            })\n    }\n\n    getLikeArr(){\n        return fetch(`${this._baseUrl}/cards`, {\n            headers: this._headers\n        })\n        .then(res => {\n            return this._checkResponse(res)\n        });\n    }\n\n    putLike(cardId){\n        // console.log(cardId);\n        return fetch(`${this._baseUrl}/cards/${cardId}/likes `, {\n            method: 'PUT',\n            headers: this._headers,\n            body: JSON.stringify({\n                _id: cardId\n            })\n        })\n            .then(res => {\n                return this._checkResponse(res)\n            });\n    }\n\n\n    removeLike(cardId){\n        return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n            .then(res => {\n                return this._checkResponse(res)\n            })\n    }\n\n    _checkResponse(res){\n        if(res.ok){\n            return res.json()\n        } else {\n            return Promise.reject(`Ошибка ${res.status}`)\n        }\n    }\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}